import"./main-GpgHtR5V.js";class a{constructor(){this.albums=[{id:1,title:"GUTS (spilled)",artist:"Olivia Rodrigo",html:'<iframe frameborder="0" allow="clipboard-write" style="border:none;width:100%;height:556px;border-radius:15px;" src="https://music.yandex.ru/iframe/album/30346230">–°–ª—É—à–∞–π—Ç–µ <a href="https://music.yandex.ru/album/30346230?utm_source=desktop&utm_medium=copy_link">GUTS (spilled)</a> ‚Äî <a href="https://music.yandex.ru/artist/4654635">Olivia Rodrigo</a> –Ω–∞ –Ø–Ω–¥–µ–∫—Å –ú—É–∑—ã–∫–µ</iframe>'},{id:2,title:"HIT ME HARD AND SOFT",artist:"Billie Eilish",html:'<iframe frameborder="0" allow="clipboard-write" style="border:none;width:100%;height:556px;border-radius:15px;" src="https://music.yandex.ru/iframe/album/31266458">–°–ª—É—à–∞–π—Ç–µ <a href="https://music.yandex.ru/album/31266458?utm_source=desktop&utm_medium=copy_link">HIT ME HARD AND SOFT</a> ‚Äî <a href="https://music.yandex.ru/artist/4353492">Billie Eilish</a> –Ω–∞ –Ø–Ω–¥–µ–∫—Å –ú—É–∑—ã–∫–µ</iframe>'},{id:3,title:"Man's Best Friend",artist:"Sabrina Carpenter",html:`<iframe frameborder="0" allow="clipboard-write" style="border:none;width:100%;height:556px;border-radius:15px;" src="https://music.yandex.ru/iframe/album/37999752">–°–ª—É—à–∞–π—Ç–µ <a href="https://music.yandex.ru/album/37999752">Man's Best Friend</a> ‚Äî <a href="https://music.yandex.ru/artist/2001010">Sabrina Carpenter</a> –Ω–∞ –Ø–Ω–¥–µ–∫—Å –ú—É–∑—ã–∫–µ</iframe>`}],this.currentAlbumIndex=this.getMinuteOfHour()%this.albums.length,this.startAutoRotation()}getMinuteOfHour(){return new Date().getMinutes()}getDayOfMonth(){return new Date().getDate()}startAutoRotation(){setInterval(()=>{this.currentAlbumIndex=(this.currentAlbumIndex+1)%this.albums.length,this.updateWidget(),this.updateCounter(),console.log(`–ê–≤—Ç–æ—Å–º–µ–Ω–∞ –∞–ª—å–±–æ–º–∞: ${this.albums[this.currentAlbumIndex].title}`)},6e4)}updateWidget(){const t=document.getElementById("yandex-music-container"),e=this.albums[this.currentAlbumIndex];t&&(t.innerHTML=`
                <div class="album-info">
                    <h3>${e.title}</h3>
                    <p class="album-artist">${e.artist}</p>
                    <p class="album-timer">–°–ª–µ–¥—É—é—â–∞—è —Å–º–µ–Ω–∞: —á–µ—Ä–µ–∑ <span id="countdown">60</span> —Å–µ–∫</p>
                </div>
                ${e.html}
            `,this.updateSectionTitle(e),this.startCountdown())}startCountdown(){let t=60;const e=document.getElementById("countdown");if(e){const i=setInterval(()=>{t--,e.textContent=t,t<=0&&clearInterval(i)},1e3)}}updateSectionTitle(t){const e=document.querySelector(".spotify-widget h2");e&&(e.innerHTML=`üéµ –ê–ª—å–±–æ–º –¥–Ω—è: <span class="album-title">${t.title}</span>`)}init(){this.updateWidget(),this.albums.length>1&&this.addManualControls()}addManualControls(){const t=document.getElementById("yandex-music-container");if(t){const e=document.createElement("div");e.className="album-controls",e.innerHTML=`
                <button id="prev-album" class="album-btn">‚Üê –ü—Ä–µ–¥—ã–¥—É—â–∏–π</button>
                <span class="album-counter">${this.currentAlbumIndex+1} / ${this.albums.length}</span>
                <button id="next-album" class="album-btn">–°–ª–µ–¥—É—é—â–∏–π ‚Üí</button>
            `,t.parentNode.insertBefore(e,t.nextSibling),this.setupEventListeners()}}setupEventListeners(){document.getElementById("prev-album")?.addEventListener("click",()=>{this.currentAlbumIndex=(this.currentAlbumIndex-1+this.albums.length)%this.albums.length,this.updateWidget(),this.updateCounter()}),document.getElementById("next-album")?.addEventListener("click",()=>{this.currentAlbumIndex=(this.currentAlbumIndex+1)%this.albums.length,this.updateWidget(),this.updateCounter()})}updateCounter(){const t=document.querySelector(".album-counter");t&&(t.textContent=`${this.currentAlbumIndex+1} / ${this.albums.length}`)}}document.addEventListener("DOMContentLoaded",()=>{document.getElementById("yandex-music-container")&&(new a().init(),console.log("üéµ –†–æ—Ç–∞—Ç–æ—Ä –∞–ª—å–±–æ–º–æ–≤ –∑–∞–ø—É—â–µ–Ω (—Å–º–µ–Ω–∞ –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É)"))});
